(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{3945:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>f});var a=r(5155),s=r(2115);let l=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),n=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,r)=>r?r.toUpperCase():t.toLowerCase()),i=e=>{let t=n(e);return t.charAt(0).toUpperCase()+t.slice(1)},d=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.filter((e,t,r)=>!!e&&""!==e.trim()&&r.indexOf(e)===t).join(" ").trim()},c=e=>{for(let t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0};var o={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let h=(0,s.forwardRef)((e,t)=>{let{color:r="currentColor",size:a=24,strokeWidth:l=2,absoluteStrokeWidth:n,className:i="",children:h,iconNode:x,...u}=e;return(0,s.createElement)("svg",{ref:t,...o,width:a,height:a,stroke:r,strokeWidth:n?24*Number(l)/Number(a):l,className:d("lucide",i),...!h&&!c(u)&&{"aria-hidden":"true"},...u},[...x.map(e=>{let[t,r]=e;return(0,s.createElement)(t,r)}),...Array.isArray(h)?h:[h]])}),x=(e,t)=>{let r=(0,s.forwardRef)((r,a)=>{let{className:n,...c}=r;return(0,s.createElement)(h,{ref:a,iconNode:t,className:d("lucide-".concat(l(i(e))),"lucide-".concat(e),n),...c})});return r.displayName=i(e),r},u=x("brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]]),m=x("camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]),g=x("upload",[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]]),p=x("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),b=x("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]),y=x("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);function f(){let[e,t]=(0,s.useState)(null),[r,l]=(0,s.useState)(!1),[n,i]=(0,s.useState)(null),[d,c]=(0,s.useState)(null),[o,h]=(0,s.useState)(!1),x=(0,s.useRef)(null),f=(0,s.useRef)(null),j=(0,s.useRef)(null),v=(0,s.useRef)(null),N=async()=>{try{let e=await navigator.mediaDevices.getUserMedia({video:{facingMode:"environment",width:{ideal:1920},height:{ideal:1080}}});v.current=e,f.current&&(f.current.srcObject=e,f.current.play()),h(!0),c(null)}catch(e){c("카메라에 접근할 수 없습니다. 권한을 확인해주세요."),console.error("Camera error:",e)}},w=()=>{v.current&&(v.current.getTracks().forEach(e=>e.stop()),v.current=null),h(!1)},k=async()=>{if(e){l(!0),c(null),i(null);try{let t=await fetch("/api/analyze",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({image:e.split(",")[1]})});if(!t.ok)throw Error("HTTP error! status: ".concat(t.status));let r=await t.json();r.success?i(r.result):c(r.error||"분석 중 오류가 발생했습니다.")}catch(e){c("서버 오류가 발생했습니다. 다시 시도해주세요."),console.error("Analysis error:",e)}finally{l(!1)}}},A=()=>{t(null),i(null),c(null),w(),x.current&&(x.current.value="")};return(0,a.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 py-8 px-4",children:(0,a.jsxs)("div",{className:"max-w-4xl mx-auto",children:[(0,a.jsxs)("div",{className:"text-center mb-8",children:[(0,a.jsxs)("div",{className:"flex items-center justify-center gap-3 mb-4",children:[(0,a.jsx)(u,{className:"w-10 h-10 text-indigo-600"}),(0,a.jsx)("h1",{className:"text-4xl font-bold text-gray-800",children:"AI 퀴즈 분석기"})]}),(0,a.jsx)("p",{className:"text-lg text-gray-600",children:"퀴즈 문제를 촬영하거나 업로드하면 AI가 정답을 분석해드립니다"})]}),(0,a.jsxs)("div",{className:"bg-white rounded-2xl shadow-xl p-8",children:[!e&&!o&&(0,a.jsxs)("div",{className:"text-center space-y-6",children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 max-w-md mx-auto",children:[(0,a.jsxs)("button",{onClick:N,className:"flex flex-col items-center justify-center p-6 border-2 border-dashed border-indigo-300 rounded-xl hover:border-indigo-500 hover:bg-indigo-50 transition-all duration-200",children:[(0,a.jsx)(m,{className:"w-12 h-12 text-indigo-500 mb-2"}),(0,a.jsx)("span",{className:"text-indigo-700 font-semibold",children:"카메라로 촬영"})]}),(0,a.jsxs)("button",{onClick:()=>{var e;return null==(e=x.current)?void 0:e.click()},className:"flex flex-col items-center justify-center p-6 border-2 border-dashed border-green-300 rounded-xl hover:border-green-500 hover:bg-green-50 transition-all duration-200",children:[(0,a.jsx)(g,{className:"w-12 h-12 text-green-500 mb-2"}),(0,a.jsx)("span",{className:"text-green-700 font-semibold",children:"파일 업로드"})]})]}),(0,a.jsx)("input",{ref:x,type:"file",accept:"image/*",onChange:e=>{var r;let a=null==(r=e.target.files)?void 0:r[0];if(a){let e=new FileReader;e.onload=e=>{var r;t(null==(r=e.target)?void 0:r.result),c(null)},e.readAsDataURL(a)}},className:"hidden"})]}),o&&(0,a.jsxs)("div",{className:"text-center space-y-4",children:[(0,a.jsxs)("div",{className:"relative inline-block",children:[(0,a.jsx)("video",{ref:f,className:"max-w-full h-auto rounded-lg shadow-lg",playsInline:!0}),(0,a.jsx)("canvas",{ref:j,className:"hidden"})]}),(0,a.jsxs)("div",{className:"flex justify-center gap-4",children:[(0,a.jsx)("button",{onClick:()=>{if(f.current&&j.current){let e=j.current,r=f.current;e.width=r.videoWidth,e.height=r.videoHeight;let a=e.getContext("2d");a&&(a.drawImage(r,0,0),t(e.toDataURL("image/jpeg",.8)),w())}},className:"bg-indigo-600 hover:bg-indigo-700 text-white px-6 py-3 rounded-lg font-semibold transition-colors duration-200",children:"사진 촬영"}),(0,a.jsx)("button",{onClick:w,className:"bg-gray-500 hover:bg-gray-600 text-white px-6 py-3 rounded-lg font-semibold transition-colors duration-200",children:"취소"})]})]}),e&&!o&&(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsx)("div",{className:"text-center",children:(0,a.jsx)("img",{src:e,alt:"Selected quiz",className:"max-w-full h-auto max-h-96 mx-auto rounded-lg shadow-lg"})}),(0,a.jsxs)("div",{className:"flex justify-center gap-4",children:[!r&&!n&&(0,a.jsxs)("button",{onClick:k,className:"bg-indigo-600 hover:bg-indigo-700 text-white px-8 py-3 rounded-lg font-semibold transition-colors duration-200 flex items-center gap-2",children:[(0,a.jsx)(u,{className:"w-5 h-5"}),"AI 분석 시작"]}),(0,a.jsxs)("button",{onClick:A,className:"bg-gray-500 hover:bg-gray-600 text-white px-6 py-3 rounded-lg font-semibold transition-colors duration-200 flex items-center gap-2",children:[(0,a.jsx)(p,{className:"w-5 h-5"}),"다시 선택"]})]})]}),r&&(0,a.jsxs)("div",{className:"text-center py-8",children:[(0,a.jsx)(b,{className:"w-12 h-12 text-indigo-600 mx-auto mb-4 animate-spin"}),(0,a.jsx)("p",{className:"text-lg text-gray-600",children:"AI가 퀴즈를 분석하고 있습니다..."}),(0,a.jsx)("p",{className:"text-sm text-gray-500 mt-2",children:"잠시만 기다려주세요"})]}),n&&(0,a.jsxs)("div",{className:"bg-green-50 border border-green-200 rounded-xl p-6 space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 text-green-700 mb-4",children:[(0,a.jsx)(y,{className:"w-6 h-6"}),(0,a.jsx)("h3",{className:"text-xl font-semibold",children:"분석 완료!"})]}),(0,a.jsxs)("div",{className:"bg-white rounded-lg p-4 border border-green-200",children:[(0,a.jsx)("h4",{className:"font-semibold text-gray-800 mb-2",children:"AI 분석 결과:"}),(0,a.jsx)("div",{className:"text-gray-700 whitespace-pre-wrap leading-relaxed",children:n})]}),(0,a.jsx)("button",{onClick:A,className:"w-full bg-indigo-600 hover:bg-indigo-700 text-white py-3 rounded-lg font-semibold transition-colors duration-200",children:"새로운 퀴즈 분석하기"})]}),d&&(0,a.jsxs)("div",{className:"bg-red-50 border border-red-200 rounded-xl p-6 text-center",children:[(0,a.jsxs)("div",{className:"text-red-600 mb-2",children:[(0,a.jsx)(p,{className:"w-8 h-8 mx-auto mb-2"}),(0,a.jsx)("p",{className:"font-semibold",children:"오류가 발생했습니다"})]}),(0,a.jsx)("p",{className:"text-red-700 mb-4",children:d}),(0,a.jsx)("button",{onClick:()=>c(null),className:"bg-red-600 hover:bg-red-700 text-white px-6 py-2 rounded-lg transition-colors duration-200",children:"확인"})]})]}),(0,a.jsx)("div",{className:"text-center mt-8 text-gray-500",children:(0,a.jsx)("p",{children:"\xa9 2024 AI 퀴즈 분석기. AI 기술로 더 스마트한 학습을 지원합니다."})})]})})}},9683:(e,t,r)=>{Promise.resolve().then(r.bind(r,3945))}},e=>{var t=t=>e(e.s=t);e.O(0,[441,684,358],()=>t(9683)),_N_E=e.O()}]);